{{extend 'layout.html'}}

<form action="{{=URL('projects','details', args = task.project_id)}}">
    <button type="submit" class="btn btn-default">
        <span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span>
        <h4> Project </h4>
    </button>
</form>
</br>

<form class="form-horizontal" action="{{=URL('tasks', 'save')}}" method="post" id="task">
	<input type="hidden" name="taskid" value="{{=task.id}}" />
	<input type="hidden" name="projectid" value="{{=task.project_id}}" />
	<fieldset>
		<div class="form-group">
			<h4><label class="col-md-4 control-label" for="name">Name</label></h4>
			<div class="col-md-8">
		    	<input id="name" name="name" type="text" class="form-control input-md" value="{{=task.name}}">
		  	</div>
		</div>
		<div class="form-group">
			<h4><label class="col-md-4 control-label" for="priority">Priority</label></h4>
			<div class="col-md-8">
		    	<input id="priority" name="priority" type="number" class="form-control input-md" value="{{=task.priority}}">
		  	</div>
		</div>
		<div class="form-group">
			<h4><label class="col-md-4 control-label" for="deadline">Deadline</label></h4>
			<div class="col-md-8">
                <div class='input-group date' id='datetimepicker'>
                	{{try:}}
                    	<input type='text' name="deadline" class="form-control input-md" value="{{=deadline}}" />
                    {{except:}}
                    	<input type='text' name="deadline" class="form-control input-md" />
                    {{pass}}
                    <span class="input-group-addon">
                        <span class="glyphicon glyphicon-calendar"></span>
                    </span>
                </div>
		  	</div>
		</div>
	</fieldset>
	<button class="btn btn-lg btn-primary btn-block" type="submit">Save</button>
</form>

<script type="text/javascript">
    $(function () {
        $('#datetimepicker').datetimepicker({
        	format: 'MM/DD/YYYY HH:mm',
        	locale: 'en'
        });
    });
</script>